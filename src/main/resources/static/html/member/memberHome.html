<!DOCTYPE html>
<html lang="en"  xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>考试系统-考试</title>
    <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.18.3/dist/bootstrap-table.min.css">
    <!--基础js-->
    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.js"></script>
    <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!--BootStrap Table-->
    <script src="https://unpkg.com/bootstrap-table@1.18.3/dist/bootstrap-table.min.js"></script>
</head>
<body>
    <nav th:replace="../static/html/common/fragments.html::member_menu(1)"></nav>
    <div class="container">
        <table
                class="table table-hover" id="exam-table">
            <thead>
                <tr>
                    <th data-sortable="true">考试名称</th>
                    <th data-sortable="true">起始时间</th>
                    <th>结束时间</th>
                    <th>考试时间</th>
                    <th>是否已参加</th>
    <!--                <th></th>-->
                </tr>
            </thead>
            <tbody>
                <tr th:each="exam,index:${examList}">
                    <td th:text="${exam.name}"></td>
                    <td th:text="${#temporals.format(exam.getStartTime(),'yyyy-MM-dd HH:mm')}"></td>
                    <td th:text="${#temporals.format(exam.getEndTime(),'yyyy-MM-dd HH:ss')}"></td>
                    <td th:text="${exam.examTime}"></td>
                    <td th:if="${list[index.index]==1}"><button type="button" class="btn btn-info" th:id="${exam.id}" onclick="getExam(this.id)" >回顾考试</button></td>
                    <td th:if="${list[index.index]!=1}"><button type="button"  class="btn btn-success" th:id="${exam.id}" onclick="getExam(this.id)" >参加考试</button></td>
                </tr>
            </tbody>
        </table>
    </div>
</body>
<script>
    function getExam(buttonId){
        window.location.href="/Exam?examId="+buttonId;
    }
    $("#exam-table").bootstrapTable({
        search: true,
        showRefresh: true,
        showColumns: true,
        striped: true,
        sortable: true
    });
</script>
</html>

